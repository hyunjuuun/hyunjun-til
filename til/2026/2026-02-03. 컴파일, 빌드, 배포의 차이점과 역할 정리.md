# 컴파일, 빌드, 배포의 차이점과 역할 정리

## 배경 (정리 목적)
백엔드 개발을 하다 보면 “컴파일 에러”, “빌드 실패”, “배포 장애”라는 표현을 자연스럽게 사용한다.  
하지만 이 세 단계를 명확히 구분하지 않으면, 문제가 발생했을 때 **어디를 먼저 봐야 하는지** 판단이 흐려진다.  
특히 JVM / Kotlin 기반 프로젝트에서는 Gradle, CI 파이프라인, 컨테이너 환경이 겹치면서  
오류의 원인이 코드인지, 빌드 설정인지, 실행 환경인지 혼동되기 쉽다.

이 문서는 컴파일·빌드·배포를 **역할과 책임 관점**에서 구분해 정리하기 위한 기록이다.

## 핵심 내용

### 1. 컴파일은 언어 규칙을 만족하는지 검증하는 단계
컴파일은 사람이 작성한 소스 코드가 **언어 스펙에 맞는지**를 검사하고,  
JVM이 이해할 수 있는 바이트코드로 변환하는 과정이다.

- Kotlin 기준으로는 `.kt` 파일이 `.class` 파일로 변환된다
- 문법 오류, 타입 불일치, 접근 제어 위반 등은 이 단계에서 발견된다
- 결과물은 실행 가능한 애플리케이션이 아니라 **중간 산출물**이다

컴파일의 특징은 실행 환경과 비교적 독립적이라는 점이다.  
라이브러리를 어떻게 묶을지, 어디서 실행할지는 아직 고려 대상이 아니다.

### 2. 빌드는 실행 가능한 단위로 조립하는 과정
빌드는 컴파일을 포함하는 **상위 개념**이다.  
코드가 맞는지를 넘어서, 애플리케이션을 실제로 실행할 수 있는 형태로 만든다.

JVM 백엔드에서 빌드는 보통 다음을 포함한다.
- 컴파일된 클래스 파일 생성
- 외부 라이브러리 의존성 해석 및 포함
- 리소스 파일 병합
- JAR 또는 WAR 같은 아티팩트 생성
- 테스트 실행 (빌드 과정에 포함되는 경우가 많음)

빌드 실패는 코드 문법 문제보다는  
의존성 충돌, 설정 누락, 빌드 스크립트 오류에서 발생하는 경우가 많다.  
즉, 빌드는 “이 코드 묶음을 실행 파일로 만들 수 있는가?”를 확인하는 단계다.

### 3. 배포는 결과물을 실행 환경에 전달하는 단계
배포는 빌드된 결과물을 **어디에 어떻게 올려 실행할 것인가**에 대한 단계다.  
코드 품질이나 빌드 성공 여부와는 다른 책임 범위를 가진다.

백엔드 실무에서 배포는 보통 다음을 포함한다.
- 빌드 산출물(JAR, Docker 이미지 등)을 서버나 레지스트리에 업로드
- 실행 환경에 맞는 설정 적용 (환경 변수, 시크릿 등)
- 애플리케이션 프로세스 기동 또는 교체
- 트래픽 전환 (롤링 업데이트, 무중단 배포 등)

배포 단계의 문제는 코드와 빌드가 정상이어도 발생할 수 있다.  
네트워크, 인프라 설정, 권한, 환경 차이가 주요 원인이다.

### 4. 단계를 구분하면 문제의 성격이 보인다
컴파일·빌드·배포를 구분하지 않으면, 장애 원인을 잘못 추정하기 쉽다.

- 컴파일 에러 → 개발자가 즉시 수정해야 할 코드 문제
- 빌드 실패 → 의존성, 설정, 빌드 스크립트 점검 대상
- 배포 실패 → 인프라, 환경, 운영 설정 문제일 가능성 큼

특히 CI/CD 환경에서는 “빌드까지는 성공했지만 배포에서 실패”하는 경우가 많다.  
이때 이 구분은 문제를 **개발 영역인지, 운영 영역인지** 가르는 기준이 된다.

## 정리
- 컴파일은 언어 차원의 검증, 빌드는 실행 단위 생성, 배포는 실행 환경 전달이다.
- 세 단계를 분리해서 이해하면 문제 원인과 책임 범위를 명확히 나눌 수 있다.
- 다음으로는 CI 파이프라인에서 이 단계들이 어떻게 자동화되는지 살펴보면 좋겠다.